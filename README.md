<div align="center">
  <h1 align='center'>WhatsApp Clone<br/>
  { Next.js 12 + Firebase 9 + Styled Components}</h1>
  
  > üí¨ A WhatsApp Clone made using Next.js 12 and Firebase 9
  
  <br/>
  <a href="#-repository-menu">Repository Menu</a><br/>
  
  <br/><br/>
  Made with ‚ù§Ô∏è by Jo√£o Vitor Lessa üëèüèª 
  <a href="https://www.linkedin.com/in/jvitorlb/">Get in Touch!</a>
  <p>Hit the ‚≠êÔ∏è button if you like this project!</p>
</div>

<br/>

# üîñ Repository Menu

<p>
  ‚Ä¢  <a href="#%EF%B8%8F-running-the-project">Running the Project</a><br/>
  ‚Ä¢  <a href="#-creating-this-project-from-scratch-baby-steps">Creating this project from scratch: Baby Steps</a><br/>
  ‚Ä¢  <a href="#-references">References</a><br/>
</p>

# ‚öôÔ∏è Running the Project

## ‚Ä¢ Dev mode

1. In the `root` folder, run this command to generate the `.env` file:

```
cp .env.example app/.env
```

2. Enter the `app` folder;

3. Set the sensitive variables of your project inside the generated `.env` file;

4. Install dependencies:

```bash
$ npm i
```

5. Run the app:

```bash
$ npm run dev
```

6. Access the URL: http://localhost:3000

# üî® Creating this project from scratch: Baby Steps]

## ‚Ä¢ Step 1 - Create a new Next.js project (using NPM)

1. Run the command:

```bash
$ npx create-next-app@12.0.9 --use-npm
```

2. Pick your project settings

3. Enter the project folder that you just created and execute the line below to run the development mode:

```bash
$ npm run dev
```

## ‚Ä¢ Step 2 - Adding CSS library

```bash
$ npm i styled-components
```

## ‚Ä¢ Step 3 - Clean the boilerplate inside "index.js";

## ‚Ä¢ Step 4 - Adding Background Color:

- On the file `./styles/global.css`:

```bash
html,
body {
  padding: 0;
  margin: 0;
  height: 100vh;
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
  background: rgb(0, 150, 136);
  background: linear-gradient(180deg, rgba(0, 150, 136, 1) 0%, rgba(0, 150, 136, 1) 15%,
  rgba(215, 219, 214, 1) 15%, rgba(215, 219, 214, 1) 130%);
}

a {
  color: inherit;
  text-decoration: none;
}

* {
  box-sizing: border-box;
}
```

## ‚Ä¢ Step 5 - Adding mainLayout:

- Create the file `./components/Sidebar.jsx`:

```bash
import styled from 'styled-components'

const Sidebar = () => {
    return (
        <Container>
            Sidebar
        </Container>
    )
}

export default Sidebar

const Container = styled.div`
    background-color: #FFFFFF;
    min-width: 320px;
    max-width: 450px;
    height: 100%;
`
```

- Create the file `./components/Layout.jsx`:

```bash
import styled from 'styled-components'
import Sidebar from './Sidebar'

const Layout = ({ children }) => {
    return (
        <Wrapper>
            <Container>
                <Sidebar />
                { children }
            </Container>
        </Wrapper>
    )
}

export default Layout

const Wrapper = styled.div`
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
`

const Container = styled.div`
    display: flex;
    width: 75vh;
    margin: auto;
    margin-top: 20px;
    margin-bottom: 20px;
    box-shadow: 0 0 1rem 0.05rem rgba(0, 0, 0, 0.2);
    height: 100vh;

    @media (max-width: 1440px){
        width: 100%;
        heigth: 100vh;
        margin: 0;
    }
`
```

- Edit the file `./pages/index.jsx`:

```bash
import Head from 'next/head'
import styled from 'styled-components'

export default function Home() {
  return (
    <Container>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      index
    </Container>
  )
}

const Container = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f8fafc;
  width: 100%;
  height: 100%;
`
```

- Edit the file `./pages/_app.jsx` to add the Layout component:

```bash
import Layout from '../components/Layout'
import '../styles/globals.css'

function MyApp({ Component, pageProps }) {
  return (
    <Layout>
      <Component {...pageProps} />
    </Layout>
  )
}

export default MyApp

```

## ‚Ä¢ Step 6 - Making Async changes using Styled Components

1. To improve the development experience, install the package:

```bash
$ npm i babel-plugin-styled-components
```

2. Create the file `./babelrc`:

```bash
{
    "presets": ["next/babel"],
    "plugins": ["babel-plugin-styled-components"]
}
```

3. Delete the `./next`folder and run again:

```bash
npm run dev
```

## ‚Ä¢ Step 7 - Create Index Page

1. Grab the image located in `./public/whatsapp-home.png` and insert into the project;

2. Edit the `./pages/index.js` file:

```bash
import Head from 'next/head'
import styled from 'styled-components'
import Image from 'next/image'

export default function Home() {
  return (
    <Container>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div style={{width: '50%', textAlign: 'center'}}>
        <Image src="/whatsapp-home.png" height={250} width={250} alt='' />
        <h2 style={{ color: '#727372' }}>Keep your phone connected</h2>
        <p style={{ color: '#b7b9bb' }}>
          WhatsApp connects to your phone to sync messages. To reduce data usage, connect your phone to Wi-Fi.
        </p>
      </div>
    </Container>
  )
}

const Container = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f8fafc;
  width: 100%;
  height: 100%;
`
```

## ‚Ä¢ Step 8 - Create Header and Avatar

1. Install these dependencies in the project file:

```bash
$ npm i @mui/material @emotion/react @emotion/styled
$ npm i @mui/material @mui/styled-engine-sc styled-components
$ npm i @mui/icons-material
```

2. Grab the image located in `./public/avatar.png` and insert into the project;

3. Edit the file `./components/Sidebar.jsx`:

```bash
import styled from 'styled-components'
import { Avatar } from '@mui/material'

const Sidebar = () => {
    return (
        <Container>
            <Header>
                <UserAvatar src="/avatar.png"/>
            </Header>
        </Container>
    )
}

export default Sidebar

const Container = styled.div`
    background-color: #FFFFFF;
    min-width: 320px;
    max-width: 450px;
    height: 100%;
`

const Header = styled.div`
    display: flex;
    position: sticky;
    top: 0;
    background-color: white;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    height: 80px;
    border-bottom: 1px solid whitesmoke;
    width: 100%;
`

const UserAvatar = styled(Avatar)`
    cursor: pointer;
    :hover{
        opacity: 0.8;
    }
`
```

## ‚Ä¢ Step 9 - Create Icons Group

1. Grab the image icon located in `./public/story.svg` and insert into the project;

2. Edit the file `./components/Sidebar.jsx`:

```bash
import styled from 'styled-components'
import { Avatar, IconButton } from '@mui/material'
import ChatIcon from '@mui/icons-material/Chat'

const Sidebar = () => {
    return (
        <Container>
            <Header>
                <UserAvatar src="/avatar.png" />
                <IconsGroup>
                    <IconButton>
                        <img src="/story.svg" alt="" />
                    </IconButton>
                    <IconButton>
                        <ChatIcon />
                    </IconButton>
                </IconsGroup>
            </Header>
        </Container>
    )
}

export default Sidebar

const Container = styled.div`
    background-color: #FFFFFF;
    min-width: 320px;
    max-width: 450px;
    height: 100%;
`

const Header = styled.div`
    display: flex;
    position: sticky;
    top: 0;
    background-color: white;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    height: 80px;
    border-bottom: 1px solid whitesmoke;
    width: 100%;
`

const UserAvatar = styled(Avatar)`
    cursor: pointer;
    :hover{
        opacity: 0.8;
    }
`

const IconsGroup = styled.div``
```

## ‚Ä¢ Step 10 - Add Dropdown Menu to the Sidebar

1. I've used this reference to create the Dropdown: [Material UI Docs: Menu](https://mui.com/material-ui/react-menu/);

2. Create the file `CustomMoreVertical.jsx`:

```bash
import * as React from 'react'
import Menu from '@mui/material/Menu'
import MenuItem from '@mui/material/MenuItem'
import MoreVertIcon from '@mui/icons-material/MoreVert'
import { IconButton } from '@mui/material'

export default function BasicMenu() {
  const [anchorEl, setAnchorEl] = React.useState(null)

  const open = Boolean(anchorEl)

  const handleClick = (event) => {
    setAnchorEl(event.currentTarget)
  }

  const handleClose = () => {
    setAnchorEl(null);
  }

  return (
    <>
      <IconButton
        onClick={handleClick}
      >
        <MoreVertIcon />
      </IconButton>
      <Menu
        id="basic-menu"
        anchorEl={anchorEl}
        open={open}
        onClose={handleClose}
        MenuListProps={{
          'aria-labelledby': 'basic-button',
        }}
        anchorOrigin={{
          vertical: 'bottom',
          horizontal: 'right'
        }}
        transformOrigin={{
          vertical: 'top',
          horizontal: 'right'
        }}
      >
        <MenuItem onClick={handleClose}>New Group</MenuItem>
        <MenuItem onClick={handleClose}>Create a room</MenuItem>
        <MenuItem onClick={handleClose}>Profile</MenuItem>
        <MenuItem onClick={handleClose}>Archived</MenuItem>
        <MenuItem onClick={handleClose}>Starred</MenuItem>
        <MenuItem onClick={handleClose}>Settings</MenuItem>
        <MenuItem onClick={handleClose}>Logout</MenuItem>
      </Menu>
    </>
  )
}
```

3. Call the new component in the file `./components/Sidebar.jsx`:

```bash
import styled from 'styled-components'
import { Avatar, IconButton } from '@mui/material'
import ChatIcon from '@mui/icons-material/Chat'
import CustomMoreVertical from './CustomMoreVertical'

const Sidebar = () => {
    return (
        <Container>
            <Header>
                <UserAvatar src="/avatar.png" />
                <IconsGroup>
                    <IconButton>
                        <img src="/story.svg" alt="" />
                    </IconButton>
                    <IconButton>
                        <ChatIcon />
                    </IconButton>
                    <CustomMoreVertical />
                </IconsGroup>
            </Header>
        </Container>
    )
}

export default Sidebar

const Container = styled.div`
    background-color: #FFFFFF;
    min-width: 320px;
    max-width: 450px;
    height: 100%;
`

const Header = styled.div`
    display: flex;
    position: sticky;
    top: 0;
    background-color: white;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    height: 80px;
    border-bottom: 1px solid whitesmoke;
    width: 100%;
`

const UserAvatar = styled(Avatar)`
    cursor: pointer;
    :hover{
        opacity: 0.8;
    }
`

const IconsGroup = styled.div``
```

## ‚Ä¢ Step 11 - Add the Chat Search Bar

1. Edit the file `./components/Sidebar.jsx`:

```bash
import styled from 'styled-components'
import { Avatar, IconButton } from '@mui/material'
import ChatIcon from '@mui/icons-material/Chat'
import CustomMoreVertical from './CustomMoreVertical'
import SearchIcon from '@mui/icons-material/Search'

const Sidebar = () => {
    return (
        <Container>
            <Header>
                <UserAvatar src="/avatar.png" />
                <IconsGroup>
                    <IconButton>
                        <img src="/story.svg" alt="" />
                    </IconButton>
                    <IconButton>
                        <ChatIcon />
                    </IconButton>
                    <CustomMoreVertical />
                </IconsGroup>
            </Header>
            <SearchChat>
                <SearchBar>
                    <SearchIcon />
                    <SearchInput />
                </SearchBar>
            </SearchChat>
        </Container>
    )
}

export default Sidebar

const Container = styled.div`
    background-color: #FFFFFF;
    min-width: 320px;
    max-width: 450px;
    height: 100%;
`

const Header = styled.div`
    display: flex;
    position: sticky;
    top: 0;
    background-color: white;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    height: 80px;
    border-bottom: 1px solid whitesmoke;
    width: 100%;
`

const UserAvatar = styled(Avatar)`
    cursor: pointer;
    :hover{
        opacity: 0.8;
    }
`

const IconsGroup = styled.div``

const SearchChat = styled.div`
    background-color: #f6f6f6;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 20px;
`

const SearchBar = styled.div`
    display: flex;
    padding: 5px;
    border-radius: 10px;
    border-bottom: 1px solid #ededed;
    background: white;
`

const SearchInput = styled.input`
    width: 100%;
    border: none;
`
```

## ‚Ä¢ Step 12 - Add the Sidebar Notification

1. Edit the file `./components/Sidebar.jsx`:

```bash
import styled from 'styled-components'
import { Avatar, IconButton } from '@mui/material'
import ChatIcon from '@mui/icons-material/Chat'
import CustomMoreVertical from './CustomMoreVertical'
import SearchIcon from '@mui/icons-material/Search'
import NotificationsOffIcon from '@mui/icons-material/NotificationsOff'
import ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos'

const Sidebar = () => {
    return (
        <Container>
            <Header>
                <UserAvatar src="/avatar.png" />
                <IconsGroup>
                    <IconButton>
                        <img src="/story.svg" alt="" />
                    </IconButton>
                    <IconButton>
                        <ChatIcon />
                    </IconButton>
                    <CustomMoreVertical />
                </IconsGroup>
            </Header>
            <Notification>
                <NotificationAvatar>
                    <NotificationsOffIcon style={{ color: '#9DE1FE' }} />
                </NotificationAvatar>
                <NotificationText>
                    <div>Get Notification of New Messages</div>
                    <div style={{ display: 'flex', alignItems: 'center'}}>
                        <a href="#"><u>Turn on Desktop notifications</u></a>
                        <IconButton>
                            <ArrowForwardIosIcon style={{width: 15, height: 15}} />
                        </IconButton>
                    </div>
                </NotificationText>
            </Notification>
            <SearchChat>
                <SearchBar>
                    <SearchIcon />
                    <SearchInput />
                </SearchBar>
            </SearchChat>
        </Container>
    )
}

export default Sidebar

const Container = styled.div`
    background-color: #FFFFFF;
    min-width: 320px;
    max-width: 450px;
    height: 100%;
`

const Header = styled.div`
    display: flex;
    position: sticky;
    top: 0;
    background-color: white;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    height: 80px;
    border-bottom: 1px solid whitesmoke;
    width: 100%;
`

const UserAvatar = styled(Avatar)`
    cursor: pointer;
    :hover{
        opacity: 0.8;
    }
`

const IconsGroup = styled.div``

const SearchChat = styled.div`
    background-color: #f6f6f6;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 20px;
`

const SearchBar = styled.div`
    display: flex;
    padding: 5px;
    border-radius: 10px;
    border-bottom: 1px solid #ededed;
    background: white;
`

const SearchInput = styled.input`
    width: 100%;
    border: none;
`

const Notification = styled.div`
    display: flex;
    justify-content: space-around;
    aling-items: center;
    padding: 10px;
    background-color: #9DE1FE;
`

const NotificationAvatar = styled(Avatar)`
    background-color: white;
`

const NotificationText = styled.div`
    display: flex;
    flex-direction: column;
`
```

# üìö References

- üé• # [NextJS Firebase Auth Crash Course](https://www.youtube.com/watch?v=qBGAdenirbs)
- üìñ # [Test1](https://google.com)

```

```
